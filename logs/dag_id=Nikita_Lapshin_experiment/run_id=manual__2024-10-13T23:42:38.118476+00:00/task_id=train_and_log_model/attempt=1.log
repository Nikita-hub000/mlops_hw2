[2024-10-13T23:42:54.818+0000] {local_task_job_runner.py:120} INFO - ::group::Pre task execution logs
[2024-10-13T23:42:54.830+0000] {taskinstance.py:2076} INFO - Dependencies all met for dep_context=non-requeueable deps ti=<TaskInstance: Nikita_Lapshin_experiment.train_and_log_model manual__2024-10-13T23:42:38.118476+00:00 [queued]>
[2024-10-13T23:42:54.836+0000] {taskinstance.py:2076} INFO - Dependencies all met for dep_context=requeueable deps ti=<TaskInstance: Nikita_Lapshin_experiment.train_and_log_model manual__2024-10-13T23:42:38.118476+00:00 [queued]>
[2024-10-13T23:42:54.837+0000] {taskinstance.py:2306} INFO - Starting attempt 1 of 4
[2024-10-13T23:42:54.846+0000] {taskinstance.py:2330} INFO - Executing <Task(PythonOperator): train_and_log_model> on 2024-10-13 23:42:38.118476+00:00
[2024-10-13T23:42:54.872+0000] {standard_task_runner.py:64} INFO - Started process 246 to run task
[2024-10-13T23:42:54.876+0000] {standard_task_runner.py:90} INFO - Running: ['***', 'tasks', 'run', 'Nikita_Lapshin_experiment', 'train_and_log_model', 'manual__2024-10-13T23:42:38.118476+00:00', '--job-id', '147', '--raw', '--subdir', 'DAGS_FOLDER/HW2.py', '--cfg-path', '/tmp/tmp5j_sqlzj']
[2024-10-13T23:42:54.878+0000] {standard_task_runner.py:91} INFO - Job 147: Subtask train_and_log_model
[2024-10-13T23:42:54.927+0000] {task_command.py:426} INFO - Running <TaskInstance: Nikita_Lapshin_experiment.train_and_log_model manual__2024-10-13T23:42:38.118476+00:00 [running]> on host e332dadfa0c1
[2024-10-13T23:42:55.020+0000] {taskinstance.py:2648} INFO - Exporting env vars: AIRFLOW_CTX_DAG_OWNER='Lapshin Nikita' AIRFLOW_CTX_DAG_ID='Nikita_Lapshin_experiment' AIRFLOW_CTX_TASK_ID='train_and_log_model' AIRFLOW_CTX_EXECUTION_DATE='2024-10-13T23:42:38.118476+00:00' AIRFLOW_CTX_TRY_NUMBER='1' AIRFLOW_CTX_DAG_RUN_ID='manual__2024-10-13T23:42:38.118476+00:00'
[2024-10-13T23:42:55.022+0000] {taskinstance.py:430} INFO - ::endgroup::
[2024-10-13T23:42:55.046+0000] {s3.py:1422} INFO - Downloading source S3 file from Bucket mlops-2 with path datasets/prepared_data.csv
[2024-10-13T23:42:55.059+0000] {base.py:84} INFO - Using connection ID 's3_connection' for task execution.
[2024-10-13T23:42:55.059+0000] {connection_wrapper.py:388} INFO - AWS Connection (conn_id='s3_connection', conn_type='aws') credentials retrieved from login and password.
[2024-10-13T23:42:56.910+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:42:56 INFO mlflow.tracking.fluent: Experiment with name 'Lapshin Nikita' does not exist. Creating a new experiment.
[2024-10-13T23:42:56.942+0000] {logging_mixin.py:188} INFO - result1
[2024-10-13T23:42:57.012+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:42:57 WARNING mlflow.utils.git_utils: Failed to import Git (the Git executable is probably not on your PATH), so Git SHA is not available. Error: Failed to initialize: Bad git executable.
The git executable must be specified in one of the following ways:
    - be included in your $PATH
    - be set via $GIT_PYTHON_GIT_EXECUTABLE
    - explicitly set via git.refresh(<full-path-to-git-executable>)

All git commands will error until this is rectified.

This initial message can be silenced or aggravated in the future by setting the
$GIT_PYTHON_REFRESH environment variable. Use one of the following values:
    - quiet|q|silence|s|silent|none|n|0: for no message or exception
    - warn|w|warning|log|l|1: for a warning message (logging level CRITICAL, displayed by default)
    - error|e|exception|raise|r|2: for a raised exception

Example:
    export GIT_PYTHON_REFRESH=quiet
[2024-10-13T23:43:18.913+0000] {logging_mixin.py:188} INFO - result2 random_forest
[2024-10-13T23:43:27.882+0000] {credentials.py:1147} INFO - Found credentials in environment variables.
[2024-10-13T23:43:50.468+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-13T23:43:50.939+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-13T23:43:50.986+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-13T23:43:51.125+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-13T23:43:51.780+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-13T23:43:55.257+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-13T23:44:00.260+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-13T23:44:00.731+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-13T23:44:01.238+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-13T23:44:01.294+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-13T23:44:02.177+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-13T23:44:04.009+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:44:04 INFO mlflow.models.evaluation.default_evaluator: Computing model predictions.
[2024-10-13T23:44:04.674+0000] {logging_mixin.py:188} WARNING - /home/***/.local/lib/python3.10/site-packages/sklearn/metrics/_regression.py:492 FutureWarning: 'squared' is deprecated in version 1.4 and will be removed in 1.6. To calculate the root mean squared error, use the function'root_mean_squared_error'.
[2024-10-13T23:44:04.681+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:44:04 INFO mlflow.models.evaluation.default_evaluator: Testing metrics on first row...
[2024-10-13T23:44:04.684+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:44:04 WARNING mlflow.models.evaluation.default_evaluator: SHAP or matplotlib package is not installed, so model explainability insights will not be logged.
[2024-10-13T23:44:15.525+0000] {logging_mixin.py:188} INFO - result3 random_forest
[2024-10-13T23:44:15.585+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:44:15 INFO mlflow.tracking._tracking_service.client: üèÉ View run random_forest_run at: http://mlflow-service:5000/#/experiments/613060518808864036/runs/4ca34c354582446c821f994d8062d71e.
[2024-10-13T23:44:15.586+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:44:15 INFO mlflow.tracking._tracking_service.client: üß™ View experiment at: http://mlflow-service:5000/#/experiments/613060518808864036.
[2024-10-13T23:44:15.848+0000] {logging_mixin.py:188} INFO - result2 linear_regression
[2024-10-13T23:44:19.050+0000] {logging_mixin.py:188} WARNING - /home/***/.local/lib/python3.10/site-packages/_distutils_hack/__init__.py:18 UserWarning: Distutils was imported before Setuptools, but importing Setuptools also replaces the `distutils` module in `sys.modules`. This may lead to undesirable behaviors or errors. To avoid these issues, avoid using distutils directly, ensure that setuptools is installed in the traditional way (e.g. not an editable install), and/or make sure that setuptools is always imported before distutils.
[2024-10-13T23:44:19.060+0000] {logging_mixin.py:188} WARNING - /home/***/.local/lib/python3.10/site-packages/_distutils_hack/__init__.py:33 UserWarning: Setuptools is replacing distutils.
[2024-10-13T23:44:22.434+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:44:22 INFO mlflow.models.evaluation.default_evaluator: Computing model predictions.
[2024-10-13T23:44:22.453+0000] {logging_mixin.py:188} WARNING - /home/***/.local/lib/python3.10/site-packages/sklearn/metrics/_regression.py:492 FutureWarning: 'squared' is deprecated in version 1.4 and will be removed in 1.6. To calculate the root mean squared error, use the function'root_mean_squared_error'.
[2024-10-13T23:44:22.457+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:44:22 INFO mlflow.models.evaluation.default_evaluator: Testing metrics on first row...
[2024-10-13T23:44:22.459+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:44:22 WARNING mlflow.models.evaluation.default_evaluator: SHAP or matplotlib package is not installed, so model explainability insights will not be logged.
[2024-10-13T23:44:22.729+0000] {logging_mixin.py:188} INFO - result3 linear_regression
[2024-10-13T23:44:22.747+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:44:22 INFO mlflow.tracking._tracking_service.client: üèÉ View run linear_regression_run at: http://mlflow-service:5000/#/experiments/613060518808864036/runs/fb161c4ab0ad42b5a4f02e1000daf40c.
[2024-10-13T23:44:22.748+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:44:22 INFO mlflow.tracking._tracking_service.client: üß™ View experiment at: http://mlflow-service:5000/#/experiments/613060518808864036.
[2024-10-13T23:44:23.036+0000] {logging_mixin.py:188} INFO - result2 decision_tree
[2024-10-13T23:44:25.851+0000] {logging_mixin.py:188} WARNING - /home/***/.local/lib/python3.10/site-packages/_distutils_hack/__init__.py:18 UserWarning: Distutils was imported before Setuptools, but importing Setuptools also replaces the `distutils` module in `sys.modules`. This may lead to undesirable behaviors or errors. To avoid these issues, avoid using distutils directly, ensure that setuptools is installed in the traditional way (e.g. not an editable install), and/or make sure that setuptools is always imported before distutils.
[2024-10-13T23:44:25.854+0000] {logging_mixin.py:188} WARNING - /home/***/.local/lib/python3.10/site-packages/_distutils_hack/__init__.py:33 UserWarning: Setuptools is replacing distutils.
[2024-10-13T23:44:30.244+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:44:30 INFO mlflow.models.evaluation.default_evaluator: Computing model predictions.
[2024-10-13T23:44:30.260+0000] {logging_mixin.py:188} WARNING - /home/***/.local/lib/python3.10/site-packages/sklearn/metrics/_regression.py:492 FutureWarning: 'squared' is deprecated in version 1.4 and will be removed in 1.6. To calculate the root mean squared error, use the function'root_mean_squared_error'.
[2024-10-13T23:44:30.263+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:44:30 INFO mlflow.models.evaluation.default_evaluator: Testing metrics on first row...
[2024-10-13T23:44:30.265+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:44:30 WARNING mlflow.models.evaluation.default_evaluator: SHAP or matplotlib package is not installed, so model explainability insights will not be logged.
[2024-10-13T23:44:30.902+0000] {logging_mixin.py:188} INFO - result3 decision_tree
[2024-10-13T23:44:30.918+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:44:30 INFO mlflow.tracking._tracking_service.client: üèÉ View run decision_tree_run at: http://mlflow-service:5000/#/experiments/613060518808864036/runs/865a802d3fe9448e8885b313aeb5c25c.
[2024-10-13T23:44:30.918+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:44:30 INFO mlflow.tracking._tracking_service.client: üß™ View experiment at: http://mlflow-service:5000/#/experiments/613060518808864036.
[2024-10-13T23:44:30.939+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:44:30 INFO mlflow.tracking._tracking_service.client: üèÉ View run @GodSiemens at: http://mlflow-service:5000/#/experiments/613060518808864036/runs/8d388431fae24e80ab232a55197a4890.
[2024-10-13T23:44:30.939+0000] {logging_mixin.py:188} WARNING - 2024/10/13 23:44:30 INFO mlflow.tracking._tracking_service.client: üß™ View experiment at: http://mlflow-service:5000/#/experiments/613060518808864036.
[2024-10-13T23:44:30.950+0000] {python.py:237} INFO - Done. Returned value was: {'random_forest': {'start_time': 1728862976.6114905, 'end_time': 1728863044.783078, 'model_score': 0.9996382212875033}, 'linear_regression': {'start_time': 1728862976.6114905, 'end_time': 1728863062.4876378, 'model_score': 0.8912486221145098}, 'decision_tree': {'start_time': 1728862976.6114905, 'end_time': 1728863070.2983525, 'model_score': 1.0}}
[2024-10-13T23:44:30.951+0000] {taskinstance.py:441} INFO - ::group::Post task execution logs
[2024-10-13T23:44:31.017+0000] {taskinstance.py:1206} INFO - Marking task as SUCCESS. dag_id=Nikita_Lapshin_experiment, task_id=train_and_log_model, run_id=manual__2024-10-13T23:42:38.118476+00:00, execution_date=20241013T234238, start_date=20241013T234254, end_date=20241013T234431
[2024-10-13T23:44:31.268+0000] {local_task_job_runner.py:243} INFO - Task exited with return code 0
[2024-10-13T23:44:31.379+0000] {taskinstance.py:3503} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2024-10-13T23:44:31.381+0000] {local_task_job_runner.py:222} INFO - ::endgroup::
